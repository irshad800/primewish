<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Registration primewish</title>
    <meta name="description" content="Tailwind CSS Saas HTML Template Is A Multi Purpose Landing Page Template, Corporate, Authentication, Launching Web, Agency or Business Startup, Clean, Modern, Creative, Multipurpose and Tailwind CSS Tailwind v3 etc."/>
    <meta name="author" content="Zoyothemes"/>

    <!-- favicon -->
    <link href="assets\images\image1.png" rel="shortcut icon">

    <!-- Main Css -->
    <link href="assets/css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
    <!-- =========== Main Section Start =========== -->
    <section class="h-screen w-full">
        <div class="grid xl:grid-cols-2 grid-cols-1 h-full">
            <div class="max-w-lg mx-auto w-full flex flex-col justify-center md:items-start items-center p-6">
                <div class="md:text-start text-center mb-7">
                    <a href="index.html" class="grow block mb-8">
                        <img class="h-8 md:mx-0 mx-auto" src="assets\images\image1.png" alt="images">
                    </a>
                    <div class="md:text-start text-center">
                        <h3 class="text-2xl font-semibold text-dark mb-3">Create an account</h3>
                        <p class="text-base font-medium text-light">Welcome back! Select method to sign up</p>
                    </div>
                </div>

                <!-- Registration Form -->
                <form class="text-start w-full" onsubmit="event.preventDefault(); registerUser();">
                    <div class="mb-4">
                        <label for="regName" class="block text-base font-semibold text-dark mb-2">Full Name</label>
                        <input id="regName" class="block w-full rounded-md py-2.5 px-4 text-dark text-base font-medium border-gray-300" type="text" placeholder="Enter your Full name">
                    </div>

                    <div class="mb-4">
                        <label for="regUsername" class="block text-base font-semibold text-dark mb-2">Username</label>
                        <input id="regUsername" class="block w-full rounded-md py-2.5 px-4 text-dark text-base font-medium border-gray-300" type="text" placeholder="Enter your username">
                    </div>

                    <div class="mb-4">
                        <label for="regEmail" class="block text-base font-semibold text-dark mb-2">Email address</label>
                        <input id="regEmail" class="block w-full rounded-md py-2.5 px-4 text-dark text-base font-medium border-gray-300" type="email" placeholder="Enter your email">
                    </div>

                    <div class="mb-4">
                        <label for="regPhone" class="block text-base font-semibold text-dark mb-2">Phone</label>
                        <input id="regPhone" class="block w-full rounded-md py-2.5 px-4 text-dark text-base font-medium border-gray-300" type="text" placeholder="Enter your phone number">
                    </div>

                    <div class="mb-4">
                        <label for="regPassword" class="block text-base font-semibold text-dark mb-2">Password</label>
                        <input id="regPassword" class="block w-full rounded-md py-2.5 px-4 text-dark text-base font-medium border-gray-300" type="password" placeholder="Enter your password">
                    </div>

                    <div class="text-center mb-7">
                        <button type="submit" class="w-full inline-flex items-center justify-center px-6 py-2.5 bg-primary font-bold text-base text-white rounded-md transition-all duration-500 mt-5">Sign Up</button>
                    </div>

                    <!-- Loader -->
                    <div id="regLoader" class="text-center hidden">
                        <div class="spinner-border text-primary" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>

                    <!-- Message -->
                    <div id="regMessage" class="text-center text-light mt-4"></div>
                </form>
            </div>

            <div class="hidden xl:block">
                <div class="relative w-full h-screen bg-[url(../assets/images/image1.png)] bg-center bg-cover">
                    <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                </div>
            </div>
        </div>
    </section>
    <!-- =========== Main Section End =========== -->

    <!-- Preline Js -->
    <script src="assets/libs/preline/preline.js"></script>

    <!-- Lucide Js -->
    <script src="assets/libs/lucide/umd/lucide.min.js"></script>

    <!-- Main App Js -->
    <script src="assets/js/app.js"></script>

    <!-- Registration Script -->
    <script>
       async function registerUser() {
     const name = document.getElementById("regName").value;
     const username = document.getElementById("regUsername").value;
     const email = document.getElementById("regEmail").value;
     const phone = document.getElementById("regPhone").value;
     const password = document.getElementById("regPassword").value;
     const loader = document.getElementById("regLoader");
     const message = document.getElementById("regMessage");

     message.textContent = "";  // Clear previous messages
     if (!name || !username || !email || !phone || !password) {
         message.textContent = "All fields are required!";
         return;
     }

     loader.style.display = "block"; // Show loader

     try {
         const response = await fetch("http://localhost:8080/api/auth/register", {
             method: "POST",
             headers: { "Content-Type": "application/json" },
             body: JSON.stringify({ name, username, email, phone, password })
         });

         const data = await response.json();
         loader.style.display = "none"; // Hide loader

         // Check for Success field and display the appropriate message
         if (data.Success) {
             message.textContent = data.Message || "Registration successful!";
         } else {
             message.textContent = data.Message || "Registration failed. Please try again!";
         }
     } catch (error) {
         loader.style.display = "none"; // Hide loader
         message.textContent = "Registration failed. Please try again!";
     }
 }

    </script>
</body>
</html>
